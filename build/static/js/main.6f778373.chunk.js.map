{"version":3,"sources":["images/adopt-pet.jpg","components/Landing/Landing.js","config.js","components/AnimalHTML/AnimalHTML.js","components/PeopleHTML/PeopleHTML.js","components/Adoption/Adoption.js","root/Root.js","index.js"],"names":["module","exports","Landing","className","src","adoptImg","alt","to","AnimalHTML","props","catHTML","dogHTML","cat","catProp","dog","dogProp","lastPerson","lastPersonProp","adoptHandler","adopt","name","imageURL","description","gender","age","breed","story","disabled","value","onClick","PeopleHTML","people","peopleHTML","map","person","i","key","Pets","history","useHistory","useState","setCat","setDog","setPeople","setPerson","isSubmit","setIsSubmit","setLastPerson","countDown","setCountDown","useEffect","fetch","config","then","res","json","data","console","log","Config","interval","length","setInterval","slice","clearInterval","onSubmit","e","preventDefault","payload","method","headers","Accept","body","JSON","stringify","htmlFor","type","onChange","target","payLoad","push","newPeopleArr","pop","text","catch","err","Root","path","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6f778373.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/adopt-pet.48445b1a.jpg\";","import React from 'react';\r\nimport adoptImg from '../../images/adopt-pet.jpg';\r\nimport { Link } from 'react-router-dom';\r\nimport './Landing.css';\r\nexport default function Landing() {\r\n  return (\r\n    <div className='landing-container'>\r\n      <h1 className='landing-header'>Petful</h1>\r\n      <p>A first in first out adoption agency site!</p>\r\n      <img className='landing-image' src={adoptImg} alt='adopt' />\r\n      <p>\r\n        Click\r\n        <span>\r\n          <Link className='landing-btn' to='/user-input'>\r\n            {' '}\r\n            here{' '}\r\n          </Link>\r\n        </span>\r\n        to begin!\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","export default {\r\n  API_ENDPOINT: 'https://gentle-falls-97482.herokuapp.com',\r\n};\r\n","import React from 'react';\r\nimport './AnimalHTML.css';\r\n\r\nfunction AnimalHTML(props) {\r\n  let cat = props.catProp;\r\n  let dog = props.dogProp;\r\n  let lastPerson = props.lastPersonProp;\r\n  let adoptHandler = props.adopt;\r\n  let catHTML;\r\n  const onClickHandler = () => {\r\n    adoptHandler();\r\n  };\r\n  if (cat) {\r\n    catHTML = (\r\n      <div className='cat animal-container'>\r\n        <h3>{cat.name}</h3>\r\n        <img className='animal-image' src={cat.imageURL} alt='cat' />\r\n        <div className='animal-card'>\r\n          <p>{cat.description}</p>\r\n          <p>{cat.gender}</p>\r\n          <p>{cat.age}</p>\r\n          <p>{cat.breed}</p>\r\n          <p>{cat.story}</p>\r\n          <button disabled={!lastPerson} value='cat' onClick={onClickHandler}>\r\n            Adopt\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  let dogHTML;\r\n  if (dog) {\r\n    dogHTML = (\r\n      <div className='dog animal-container'>\r\n        <h3>{dog.name}</h3>\r\n        <img className='animal-image' src={dog.imageURL} alt='dog' />\r\n        <div className='animal-card'>\r\n          <p>{dog.description}</p>\r\n          <p>{dog.gender}</p>\r\n          <p>{dog.age}</p>\r\n          <p>{dog.breed}</p>\r\n          <p>{dog.story}</p>\r\n          <button disabled={!lastPerson} value='dog' onClick={adoptHandler}>\r\n            Adopt\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className='pet-container'>\r\n      {catHTML}\r\n      {dogHTML}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AnimalHTML;\r\n","import React from 'react';\r\n\r\nimport './PeopleHTML.css';\r\n\r\nexport default function PeopleHTML(props) {\r\n  let people = props.people;\r\n  let peopleHTML = null;\r\n  if (people) {\r\n    peopleHTML = people.map((person, i) => {\r\n      return <li key={i}>{person}</li>;\r\n    });\r\n  }\r\n  return <div className='people-container'>{peopleHTML}</div>;\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router';\r\n\r\nimport Config from '../../config';\r\n\r\nimport './Adoption.css';\r\n\r\nimport AnimalHTML from '../AnimalHTML/AnimalHTML';\r\nimport PeopleHTML from '../PeopleHTML/PeopleHTML';\r\nimport config from '../../config';\r\n\r\nexport default function Pets() {\r\n  const history = useHistory();\r\n  /*\r\n   * Image of pet\r\n   * Description of pet\r\n   * Name, gender, age, and breed of pet\r\n   * Story of Pet\r\n   */\r\n  // state for pet objects\r\n  const [cat, setCat] = useState({});\r\n  const [dog, setDog] = useState({});\r\n  const [people, setPeople] = useState([]);\r\n  const [person, setPerson] = useState('');\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n  const [lastPerson, setLastPerson] = useState(false);\r\n  const [countDown, setCountDown] = useState(false);\r\n  // useEffect for fetching data\r\n  useEffect(() => {\r\n    // get people\r\n    fetch(`${config.API_ENDPOINT}/people`)\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        console.log(data);\r\n        setPeople(data);\r\n      });\r\n    // get pets\r\n    fetch(`${config.API_ENDPOINT}/pets`)\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setCat(data.cat);\r\n        setDog(data.dog);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isSubmit) {\r\n      fetch(`${Config.API_ENDPOINT}/people`)\r\n        .then((res) => {\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          console.log(data);\r\n          setPeople(data);\r\n          setIsSubmit(false);\r\n        });\r\n    }\r\n  }, [isSubmit]);\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (countDown) {\r\n      if (people.length > 1) {\r\n        interval = setInterval(() => {\r\n          setPeople(people.slice(1));\r\n        }, 5000);\r\n      } else if (people.length === 1) {\r\n        setLastPerson(true);\r\n      }\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [people]);\r\n\r\n  // 5 second line imitation\r\n\r\n  const adoptHandler = (e) => {\r\n    let payLoad = {\r\n      type: e.target.value,\r\n    };\r\n    console.log(payLoad);\r\n    fetch(`${Config.API_ENDPOINT}/pets`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify(payLoad),\r\n    })\r\n      .then((res) => {\r\n        history.push(0);\r\n        // slice 0, arr.l\r\n        let newPeopleArr = [...people].pop();\r\n        console.log(newPeopleArr);\r\n        res.text();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const userInputChange = (e) => {\r\n    setPerson(e.target.value);\r\n    setIsSubmit(true);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    let payload = {\r\n      person: person,\r\n    };\r\n    return fetch(`${Config.API_ENDPOINT}/people`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n        Accept: 'application/json',\r\n      },\r\n      body: JSON.stringify(payload),\r\n    }).then((res) => {\r\n      setPerson('');\r\n      setIsSubmit(true);\r\n      setCountDown(true);\r\n      return res.json();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className='adoption-container'>\r\n      <h1>Adoption Page</h1>\r\n      <h2>Pets ready for adoption!</h2>\r\n      <p>Line for adoption: </p>\r\n      <ul className='adoption-peopleList'>\r\n        <PeopleHTML people={people} />\r\n      </ul>\r\n      <form className='adoption-form' onSubmit={onSubmit}>\r\n        <label htmlFor='user-input'>Enter Name here: </label>\r\n        <input type='text' onChange={userInputChange} value={person} />\r\n        <input type='submit' />\r\n      </form>\r\n      <AnimalHTML\r\n        catProp={cat}\r\n        dogProp={dog}\r\n        lastPersonProp={lastPerson}\r\n        adopt={adoptHandler}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\n// components\r\nimport Landing from '../components/Landing/Landing';\r\nimport Pets from '../components/Adoption/Adoption';\r\n\r\nfunction Root() {\r\n  return (\r\n    <Router>\r\n      <Route path='/user-input' component={Pets} />\r\n      <Route exact path='/' component={Landing} />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default Root;\r\n","import './index.css'\r\n\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Root from './root/Root'\r\n\r\nReactDOM.render(<Root />, document.getElementById('root'))\r\n"],"sourceRoot":""}